//nolint:funlen // Disable funlen linter for this entire file
package {{.PackageName}}

import (
  "{{.ModuleName}}/controllers"
	"{{.ModuleName}}/repositories"
	"github.com/gin-gonic/gin"
	"gorm.io/gorm"
)

func SetupControllersAndRoutes(r *gin.RouterGroup, db *gorm.DB) {
	{{- range .Entities}}
	{{camelCase .EntityName}}Repo := repositories.New{{.EntityName}}Repository(db)
	{{camelCase .EntityName}}Controller := controllers.New{{.EntityName}}Controller({{camelCase .EntityName}}Repo)
	{{camelCase .EntityName}}Controller.RegisterRoutes(r)
	{{camelCase .EntityName}}Controller.RegisterMainRoutes(r)
  {{- end}}
}
